(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{76:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return s})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return d}));var a=t(2),r=t(6),o=(t(0),t(92)),i={id:"onefx-style-guide",title:"Style Guide"},s={unversionedId:"onefx-style-guide",id:"onefx-style-guide",isDocsHomePage:!1,title:"Style Guide",description:"Avoid Bad Practices",source:"@site/docs/onefx-style-guide.md",slug:"/onefx-style-guide",permalink:"/docs/onefx-style-guide",editUrl:"https://github.com/puncsky/stargately-docs/edit/master/website/docs/onefx-style-guide.md",version:"current",sidebar:"someSidebar",previous:{title:"Mobile",permalink:"/docs/onefx-mobile"},next:{title:"Roadmap",permalink:"/docs/onefx-roadmap"}},l=[{value:"Avoid Bad Practices",id:"avoid-bad-practices",children:[{value:"Avoid missing error-handling",id:"avoid-missing-error-handling",children:[]},{value:"Avoid callback hell (= spaghetti code + unpredictable error handling)",id:"avoid-callback-hell--spaghetti-code--unpredictable-error-handling",children:[]},{value:"Always check responsiveness",id:"always-check-responsiveness",children:[]},{value:"Prefer early exit over indentations",id:"prefer-early-exit-over-indentations",children:[]},{value:"Avoid super-long (&gt;3) inheritance chain",id:"avoid-super-long-3-inheritance-chain",children:[]},{value:"Avoid circular dependency",id:"avoid-circular-dependency",children:[]},{value:"Avoid complicated code",id:"avoid-complicated-code",children:[]},{value:"Avoid missing i18n",id:"avoid-missing-i18n",children:[]},{value:"avoid missing i18n RTL issues",id:"avoid-missing-i18n-rtl-issues",children:[]},{value:"Prefer CSS-IN-JS over global CSS styles unless they are truly global.",id:"prefer-css-in-js-over-global-css-styles-unless-they-are-truly-global",children:[]},{value:"DRY: don&#39;t repeat yourself",id:"dry-dont-repeat-yourself",children:[]},{value:"Avoid simple copy-and-paste. Prefer using libraries directly understanding the code and remove unused places.",id:"avoid-simple-copy-and-paste-prefer-using-libraries-directly-understanding-the-code-and-remove-unused-places",children:[]},{value:"Avoid unreasonable comments. Update or remove confusing comments.",id:"avoid-unreasonable-comments-update-or-remove-confusing-comments",children:[]}]},{value:"Use Consistent Project Structure",id:"use-consistent-project-structure",children:[{value:"1. Use <code>index.js</code> for exporting the main component.",id:"1-use-indexjs-for-exporting-the-main-component",children:[]},{value:"2. Use lowercase kebab-case filenames",id:"2-use-lowercase-kebab-case-filenames",children:[]},{value:"3. Prefer named exports over default exports",id:"3-prefer-named-exports-over-default-exports",children:[]}]},{value:"Effective refactoring",id:"effective-refactoring",children:[{value:"adopt semantic version",id:"adopt-semantic-version",children:[]},{value:"never introduce breaking change to non-major versions",id:"never-introduce-breaking-change-to-non-major-versions",children:[]}]},{value:"Avoid Bikeshedding",id:"avoid-bikeshedding",children:[{value:"Prefer <code>px</code> over <code>pt</code>, <code>rem</code>.",id:"prefer-px-over-pt-rem",children:[]}]}],c={rightToc:l};function d(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"avoid-bad-practices"},"Avoid Bad Practices"),Object(o.b)("h3",{id:"avoid-missing-error-handling"},"Avoid missing error-handling"),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"try {\n  const resp = await submitForm(values);\n} catch (err) {\n}\n")),Object(o.b)("p",null,"\u2705 Good"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"try {\n  const resp = await submitForm(values);\n} catch (err) {\n  notification.error({message: `failed to submitForm: ${err}`});\n}\n")),Object(o.b)("h3",{id:"avoid-callback-hell--spaghetti-code--unpredictable-error-handling"},"Avoid callback hell (= spaghetti code + unpredictable error handling)"),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"function submitForm(values, cb) {\n  validateForm(values, (err) => {\n    if (err) {\n      return cb(err, null);\n    }\n\n    makeRequest(values, (err, resp) => {\n      if (err) {\n        return cb(err, null);\n      }\n\n      makeAnotherRequest(resp, (err, anotherResp) => {\n        if (err) {\n          return cb(err, null);\n        }\n\n        return cb(null, wrapResult(anotherResp));\n      })\n    })\n  })\n}\n\n")),Object(o.b)("p",null,"\u2705 Good"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"const validateFormPromise = promisify(validateForm);\nconst makeRequestPromise = promisify(makeRequest);\nconst makeAnotherRequestPromise = promisify(makeAnotherRequest);\n\nasync function submitForm(values) {\n  try {\n    await validateFormPromise(values);\n    const resp = await makeRequestPromise(values);\n    const anotherResp = await makeAnotherRequestPromise(resp);\n    return wrapResult(anotherResp);\n  } catch (e) {\n    throw e;\n  }\n}\n")),Object(o.b)("h3",{id:"always-check-responsiveness"},"Always check responsiveness"),Object(o.b)("p",null,"Make sure it works on both mobile and desktop devices."),Object(o.b)("h3",{id:"prefer-early-exit-over-indentations"},"Prefer early exit over indentations"),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"function someFunction(someCondition) {\n  if (someCondition) {\n      // Do Something\n  }\n}\n")),Object(o.b)("p",null,"\u2705 Good: Use early return"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"function someFunction(someCondition) {\n  if (!someCondition) {\n      return;\n  }\n  // Do Something\n}\n")),Object(o.b)("h3",{id:"avoid-super-long-3-inheritance-chain"},"Avoid super-long (>3) inheritance chain"),Object(o.b)("h3",{id:"avoid-circular-dependency"},"Avoid circular dependency"),Object(o.b)("h3",{id:"avoid-complicated-code"},"Avoid complicated code"),Object(o.b)("h4",{id:"avoid-complicated-tertiary-operation"},"Avoid complicated tertiary operation"),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"const sampleComponent = () => {\n  return isTrue ? <p>True!</p> : null\n};\n")),Object(o.b)("p",null,"\u2705 Good: Use short-circuit evaluation"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"const sampleComponent = () => {\n  return isTrue && <p>True!</p>\n};\n")),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"// Y soo many ternary??? :-/\nconst sampleComponent = () => {\n  return (\n    <div>\n      {flag && flag2 && !flag3\n        ? flag4\n        ? <p>Blah</p>\n        : flag5\n        ? <p>Meh</p>\n        : <p>Herp</p>\n        : <p>Derp</p>\n      }\n    </div>\n  )\n};\n")),Object(o.b)("p",null,"\u2705 Good: Move logic to sub-components"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"const sampleComponent = () => {\n  return (\n    <div>\n      {\n        (() => {\n          if (flag && flag2 && !flag3) {\n            if (flag4) {\n              return <p>Blah</p>\n            } else if (flag5) {\n              return <p>Meh</p>\n            } else {\n              return <p>Herp</p>\n            }\n          } else {\n            return <p>Derp</p>\n          }\n        })()\n      }\n    </div>\n  )\n};\n")),Object(o.b)("h4",{id:"avoid-commenting-out-unused-code"},"Avoid commenting out unused code"),Object(o.b)("h3",{id:"avoid-missing-i18n"},"Avoid missing i18n"),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"<h1>My Awesome Project</h1>\n<p>Create like a god. Command like a king. Work like a slave.</p>\n")),Object(o.b)("p",null,"\u2705 Good"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"<h1>{t('home.my_awesome_project')}</h1>\n<p>{t('home.my_awesome_project_desc')}</p>\n")),Object(o.b)("h3",{id:"avoid-missing-i18n-rtl-issues"},"avoid missing i18n RTL issues"),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"function Greeting({username}) {\n  return (\n    <h1>{t('home.hello')}, {username}!</h1>\n  );\n}\n\n// home.hello: Hello\n// home.hello: \u4f60\u597d\n// home.hello: \u05e9\u05dc\u05d5\u05dd\n")),Object(o.b)("p",null,"\u2705 Good"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),"function Greeting({username}) {\n  return (\n    <h1>{t('hello')}, {username}</h1>\n  );\n}\n\n// home.hello: Hello, ${username}!\n// home.hello: \u4f60\u597d, ${username}!\n// home.hello: !${username}, \u05e9\u05dc\u05d5\u05dd\n")),Object(o.b)("h3",{id:"prefer-css-in-js-over-global-css-styles-unless-they-are-truly-global"},"Prefer CSS-IN-JS over global CSS styles unless they are truly global."),Object(o.b)("p",null,'Local JS styles have better "deleteability".'),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-scss"}),".header-col {\n  text-align: right !important;\n  word-break: normal !important;\n  color: #73fbe0 !important;\n  width: 20%;\n}\n")),Object(o.b)("p",null,"\u2705 Good"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"harmony",harmony:!0}),'import { styled } from "onefx/lib/styletron-react";\nconst Td = styled("div", {\n  "textAlign":"right !important",\n  "wordBreak":"normal !important",\n  "color":"#73fbe0 !important",\n  "width":"20%"\n})\n')),Object(o.b)("h3",{id:"dry-dont-repeat-yourself"},"DRY: don't repeat yourself"),Object(o.b)("h3",{id:"avoid-simple-copy-and-paste-prefer-using-libraries-directly-understanding-the-code-and-remove-unused-places"},"Avoid simple copy-and-paste. Prefer using libraries directly understanding the code and remove unused places."),Object(o.b)("h3",{id:"avoid-unreasonable-comments-update-or-remove-confusing-comments"},"Avoid unreasonable comments. Update or remove confusing comments."),Object(o.b)("h2",{id:"use-consistent-project-structure"},"Use Consistent Project Structure"),Object(o.b)("h3",{id:"1-use-indexjs-for-exporting-the-main-component"},"1. Use ",Object(o.b)("inlineCode",{parentName:"h3"},"index.js")," for exporting the main component."),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"index.js")," should always export the main component. This file should also be the ",Object(o.b)("inlineCode",{parentName:"p"},"main")," entry in the ",Object(o.b)("inlineCode",{parentName:"p"},"package.json"),"."),Object(o.b)("h3",{id:"2-use-lowercase-kebab-case-filenames"},"2. Use lowercase kebab-case filenames"),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-txt"}),"MyAwesomeComponent.js\nMy-Awesome-Component.js\nmy_awesome_component.js\n")),Object(o.b)("p",null,"\u2705 Good"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-txt"}),"my-awesome-component.js\n")),Object(o.b)("h3",{id:"3-prefer-named-exports-over-default-exports"},"3. Prefer named exports over default exports"),Object(o.b)("p",null,"\u274c Bad"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"export default function() {}")),Object(o.b)("p",null,"\u2705 Good"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),'// exports a function declared earlier\nexport { myFunction };\n// exports a constant\nexport const foo = "bar";\n')),Object(o.b)("h2",{id:"effective-refactoring"},"Effective refactoring"),Object(o.b)("h3",{id:"adopt-semantic-version"},"adopt semantic version"),Object(o.b)("h3",{id:"never-introduce-breaking-change-to-non-major-versions"},"never introduce breaking change to non-major versions"),Object(o.b)("p",null,"two-legged change"),Object(o.b)("h2",{id:"avoid-bikeshedding"},"Avoid Bikeshedding"),Object(o.b)("p",null,"Let styles be consistent. Let linters lint."),Object(o.b)("h3",{id:"prefer-px-over-pt-rem"},"Prefer ",Object(o.b)("inlineCode",{parentName:"h3"},"px")," over ",Object(o.b)("inlineCode",{parentName:"h3"},"pt"),", ",Object(o.b)("inlineCode",{parentName:"h3"},"rem"),"."),Object(o.b)("p",null,"Use ",Object(o.b)("inlineCode",{parentName:"p"},"px"),"."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Avoid using ",Object(o.b)("inlineCode",{parentName:"li"},"pt"),"."),Object(o.b)("li",{parentName:"ul"},"Avoid using ",Object(o.b)("inlineCode",{parentName:"li"},"rem"),". In most cases, users want to see more contents instead of larger fonts with larger screens.")),Object(o.b)("h1",{id:"ux-design-principles"},"UX Design Principles"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Empathy / Perspective-taking is the most important."),Object(o.b)("li",{parentName:"ul"},"Keep elements consistent."),Object(o.b)("li",{parentName:"ul"},"Insist on the Highest Standards."),Object(o.b)("li",{parentName:"ul"},"Detail-oriented",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Check i18n."),Object(o.b)("li",{parentName:"ul"},"Check accessibility.")))))}d.isMDXComponent=!0}}]);